<!DOCTYPE html>
<html>
<head>
	<title>Online Form</title>
</head>
<style>
	body {
	  text-align: center;
	  background-color: bisque;
	  padding: 15%;
	}
	</style>
<body>
	<form onsubmit="return validateForm()">
		<label for="name">Name:</label><br></br>
		<input type="text" id="name" name="name"><br>

		<label for="userid">User ID:</label><br></br>
		<input type="text" id="userid" name="userid"><br>

		<label for="email">Email ID:</label><br></br>
		<input type="email" id="email" name="email"><br>

		<input type="reset" value="Reset" onclick="clearFields()"><br></br>
		<input type="submit" value="Submit">
		<input type="button" value="New" onclick="addFields()">
		<input type="button" value="Export" onclick="exportData()">
		<input type="button" value="Clear" onclick="clearFields()">
	</form>
</body>
<script>

	//Question 13
	function validateForm() {
		var name = document.forms[0]["name"].value;
		var userid = document.forms[0]["userid"].value;
		var email = document.forms[0]["email"].value;

		if (name == "" || userid == "" || email == "") {
			alert("Please fill all three fields");
			return false;
		}
	}
	
	//Question 14
	function clearFields() {
		document.forms[0]["name"].value = "";
		document.forms[0]["userid"].value = "";
		document.forms[0]["email"].value = "";
	}
	
	//Question 15
	  const nameInput = document.getElementById("name");
	  
	  nameInput.oninput = function() {
		const name = nameInput.value;
		const regex = /^[a-zA-Z ]*$/;
		if (!regex.test(name)) {
		  alert("Invalid input. Name can only contain letters and spaces");
		}
	  }
	//Question 16
	  function addFields() {
        const form = document.forms[0];

        const nameLabel = document.createElement("label");
        nameLabel.setAttribute("for", "name2");
        nameLabel.textContent = "Name:";
        const nameInput = document.createElement("input");
        nameInput.setAttribute("type", "text");
        nameInput.setAttribute("id", "name2");
        nameInput.setAttribute("name", "name2");

       const useridLabel = document.createElement("label");
       useridLabel.setAttribute("for", "userid2");
       useridLabel.textContent = "User ID:";
       const useridInput = document.createElement("input");
       useridInput.setAttribute("type", "text");
       useridInput.setAttribute("id", "userid2");
       useridInput.setAttribute("name", "userid2");

       const emailLabel = document.createElement("label");
       emailLabel.setAttribute("for", "email2");
       emailLabel.textContent = "Email ID:";
       const emailInput = document.createElement("input");
       emailInput.setAttribute("type", "email");
       emailInput.setAttribute("id", "email2");
       emailInput.setAttribute("name", "email2");

 
       form.appendChild(nameLabel);
       form.appendChild(nameInput);
       form.appendChild(document.createElement("br"));

       form.appendChild(useridLabel);
       form.appendChild(useridInput);
       form.appendChild(document.createElement("br"));

       form.appendChild(emailLabel);
       form.appendChild(emailInput);
       form.appendChild(document.createElement("br"));
}
//Question 17
function exportData() {
  const data = [];
  const rows = document.querySelectorAll("form input[type='text'], form input[type='email']");
  rows.forEach(function(row) {
    data.push(row.value);
  });

  const filename = "form-data.txt";
  const blob = new Blob([data.join("\n")], {type: "text/plain;charset=utf-8"});
  saveAs(blob, filename);
}
//Question 18
function clearcursor(inputField) {
  inputField.value = "";
}

function clearcursor() {
  const focusedElement = document.activeElement;
  if (focusedElement.tagName === "INPUT") {
    clearcursor(focusedElement);
  } else {
    document.forms[0]["name"].value = "";
    document.forms[0]["userid"].value = "";
    document.forms[0]["email"].value = "";
  }
}


</script>
</html>
